#!/usr/bin/env node

/* eslint-disable no-console */
"use strict";

var _getMigrationFolder = require("./get-migration-folder");

var _getMode = require("./get-mode");

var _getPoolConfig = require("./get-pool-config");

var _getScriptParams = require("./get-script-params");

var _getTargetVersion = require("./get-target-version");

var _migrate = require("./migrate");

const mode = (0, _getMode.getMode)();
const targetVersion = (0, _getTargetVersion.getTargetVersion)();
const {
  params
} = (0, _getScriptParams.getScriptParams)();
const migrationFolder = (0, _getMigrationFolder.getMigrationFolder)(params);
const poolConfig = (0, _getPoolConfig.getPoolConfig)(params);
(0, _migrate.migrate)({
  mode,
  poolConfig,
  migrationFolder,
  targetVersion
}).then(() => console.log('Migration completed.')).catch(e => console.error(e));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9taWdyYXRlLWRhdGFiYXNlLnRzIl0sIm5hbWVzIjpbIm1vZGUiLCJ0YXJnZXRWZXJzaW9uIiwicGFyYW1zIiwibWlncmF0aW9uRm9sZGVyIiwicG9vbENvbmZpZyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBOzs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxJQUFJLEdBQUcsdUJBQWI7QUFDQSxNQUFNQyxhQUFhLEdBQUcseUNBQXRCO0FBQ0EsTUFBTTtBQUFDQyxFQUFBQTtBQUFELElBQVcsdUNBQWpCO0FBQ0EsTUFBTUMsZUFBZSxHQUFHLDRDQUFtQkQsTUFBbkIsQ0FBeEI7QUFDQSxNQUFNRSxVQUFVLEdBQUcsa0NBQWNGLE1BQWQsQ0FBbkI7QUFFQSxzQkFBUTtBQUNORixFQUFBQSxJQURNO0FBRU5JLEVBQUFBLFVBRk07QUFHTkQsRUFBQUEsZUFITTtBQUlORixFQUFBQTtBQUpNLENBQVIsRUFNR0ksSUFOSCxDQU1RLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLENBTmQsRUFPR0MsS0FQSCxDQU9VQyxDQUFELElBQU9ILE9BQU8sQ0FBQ0ksS0FBUixDQUFjRCxDQUFkLENBUGhCIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuXG5pbXBvcnQge2dldE1pZ3JhdGlvbkZvbGRlcn0gZnJvbSAnLi9nZXQtbWlncmF0aW9uLWZvbGRlcic7XG5pbXBvcnQge2dldE1vZGV9IGZyb20gJy4vZ2V0LW1vZGUnO1xuaW1wb3J0IHtnZXRQb29sQ29uZmlnfSBmcm9tICcuL2dldC1wb29sLWNvbmZpZyc7XG5pbXBvcnQge2dldFNjcmlwdFBhcmFtc30gZnJvbSAnLi9nZXQtc2NyaXB0LXBhcmFtcyc7XG5pbXBvcnQge2dldFRhcmdldFZlcnNpb259IGZyb20gJy4vZ2V0LXRhcmdldC12ZXJzaW9uJztcbmltcG9ydCB7bWlncmF0ZX0gZnJvbSAnLi9taWdyYXRlJztcblxuY29uc3QgbW9kZSA9IGdldE1vZGUoKTtcbmNvbnN0IHRhcmdldFZlcnNpb24gPSBnZXRUYXJnZXRWZXJzaW9uKCk7XG5jb25zdCB7cGFyYW1zfSA9IGdldFNjcmlwdFBhcmFtcygpO1xuY29uc3QgbWlncmF0aW9uRm9sZGVyID0gZ2V0TWlncmF0aW9uRm9sZGVyKHBhcmFtcyk7XG5jb25zdCBwb29sQ29uZmlnID0gZ2V0UG9vbENvbmZpZyhwYXJhbXMpO1xuXG5taWdyYXRlKHtcbiAgbW9kZSxcbiAgcG9vbENvbmZpZyxcbiAgbWlncmF0aW9uRm9sZGVyLFxuICB0YXJnZXRWZXJzaW9uLFxufSlcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coJ01pZ3JhdGlvbiBjb21wbGV0ZWQuJykpXG4gIC5jYXRjaCgoZSkgPT4gY29uc29sZS5lcnJvcihlKSk7XG4iXX0=