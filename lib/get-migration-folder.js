"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getMigrationFolder = void 0;

var _fs = _interopRequireDefault(require("fs"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const getMigrationFolder = params => {
  const migrationFolder = params['migration-folder'] || process.env.POSTGRES_MIGRATION_FOLDER;

  if (!migrationFolder) {
    throw new Error('Migration folder is required!');
  }

  if (!_fs.default.existsSync(migrationFolder)) {
    throw new Error('Migration folder does not exist!');
  }

  return migrationFolder;
};

exports.getMigrationFolder = getMigrationFolder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9nZXQtbWlncmF0aW9uLWZvbGRlci50cyJdLCJuYW1lcyI6WyJnZXRNaWdyYXRpb25Gb2xkZXIiLCJwYXJhbXMiLCJtaWdyYXRpb25Gb2xkZXIiLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfTUlHUkFUSU9OX0ZPTERFUiIsIkVycm9yIiwiZnMiLCJleGlzdHNTeW5jIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxrQkFBa0IsR0FBSUMsTUFBRCxJQUE4QztBQUM5RSxRQUFNQyxlQUFlLEdBQUdELE1BQU0sQ0FBQyxrQkFBRCxDQUFOLElBQThCRSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMseUJBQWxFOztBQUNBLE1BQUksQ0FBQ0gsZUFBTCxFQUFzQjtBQUNwQixVQUFNLElBQUlJLEtBQUosQ0FBVSwrQkFBVixDQUFOO0FBQ0Q7O0FBQ0QsTUFBSSxDQUFDQyxZQUFHQyxVQUFILENBQWNOLGVBQWQsQ0FBTCxFQUFxQztBQUNuQyxVQUFNLElBQUlJLEtBQUosQ0FBVSxrQ0FBVixDQUFOO0FBQ0Q7O0FBQ0QsU0FBT0osZUFBUDtBQUNELENBVE0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5leHBvcnQgY29uc3QgZ2V0TWlncmF0aW9uRm9sZGVyID0gKHBhcmFtczoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9KTogc3RyaW5nID0+IHtcbiAgY29uc3QgbWlncmF0aW9uRm9sZGVyID0gcGFyYW1zWydtaWdyYXRpb24tZm9sZGVyJ10gfHwgcHJvY2Vzcy5lbnYuUE9TVEdSRVNfTUlHUkFUSU9OX0ZPTERFUjtcbiAgaWYgKCFtaWdyYXRpb25Gb2xkZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pZ3JhdGlvbiBmb2xkZXIgaXMgcmVxdWlyZWQhJyk7XG4gIH1cbiAgaWYgKCFmcy5leGlzdHNTeW5jKG1pZ3JhdGlvbkZvbGRlcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pZ3JhdGlvbiBmb2xkZXIgZG9lcyBub3QgZXhpc3QhJyk7XG4gIH1cbiAgcmV0dXJuIG1pZ3JhdGlvbkZvbGRlcjtcbn07XG4iXX0=