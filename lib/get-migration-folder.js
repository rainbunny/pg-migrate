"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getMigrationFolder = void 0;

var _fs = _interopRequireDefault(require("fs"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const getMigrationFolder = params => {
  const migrationFolder = params.migrationFolder || process.env.POSTGRES_MIGRATION_FOLDER;

  if (!migrationFolder) {
    throw new Error('Migration folder is required!');
  }

  if (!_fs.default.existsSync(migrationFolder)) {
    throw new Error('Migration folder does not exist!');
  }

  return migrationFolder;
};

exports.getMigrationFolder = getMigrationFolder;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9nZXQtbWlncmF0aW9uLWZvbGRlci50cyJdLCJuYW1lcyI6WyJnZXRNaWdyYXRpb25Gb2xkZXIiLCJwYXJhbXMiLCJtaWdyYXRpb25Gb2xkZXIiLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfTUlHUkFUSU9OX0ZPTERFUiIsIkVycm9yIiwiZnMiLCJleGlzdHNTeW5jIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFTyxNQUFNQSxrQkFBa0IsR0FBSUMsTUFBRCxJQUE4QztBQUM5RSxRQUFNQyxlQUFlLEdBQUdELE1BQU0sQ0FBQ0MsZUFBUCxJQUEwQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLHlCQUE5RDs7QUFDQSxNQUFJLENBQUNILGVBQUwsRUFBc0I7QUFDcEIsVUFBTSxJQUFJSSxLQUFKLENBQVUsK0JBQVYsQ0FBTjtBQUNEOztBQUNELE1BQUksQ0FBQ0MsWUFBR0MsVUFBSCxDQUFjTixlQUFkLENBQUwsRUFBcUM7QUFDbkMsVUFBTSxJQUFJSSxLQUFKLENBQVUsa0NBQVYsQ0FBTjtBQUNEOztBQUNELFNBQU9KLGVBQVA7QUFDRCxDQVRNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuZXhwb3J0IGNvbnN0IGdldE1pZ3JhdGlvbkZvbGRlciA9IChwYXJhbXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IG1pZ3JhdGlvbkZvbGRlciA9IHBhcmFtcy5taWdyYXRpb25Gb2xkZXIgfHwgcHJvY2Vzcy5lbnYuUE9TVEdSRVNfTUlHUkFUSU9OX0ZPTERFUjtcbiAgaWYgKCFtaWdyYXRpb25Gb2xkZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pZ3JhdGlvbiBmb2xkZXIgaXMgcmVxdWlyZWQhJyk7XG4gIH1cbiAgaWYgKCFmcy5leGlzdHNTeW5jKG1pZ3JhdGlvbkZvbGRlcikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pZ3JhdGlvbiBmb2xkZXIgZG9lcyBub3QgZXhpc3QhJyk7XG4gIH1cbiAgcmV0dXJuIG1pZ3JhdGlvbkZvbGRlcjtcbn07XG4iXX0=